(async()=>{const a=new(window.AudioContext||window.webkitAudioContext)();let b=null;const c=prompt("Enter lecture audio URL:","https://example.com/lecture.mp3");try{const d=await fetch(c),e=await d.arrayBuffer();lecture=await a.decodeAudioData(e),console.log("Lecture loaded!")}catch(f){return void console.error("Failed to load lecture:",f)}const g=prompt("Enter caption text:","Enter caption here"),h=document.querySelector("#caption");h?h.textContent=g:console.warn("#caption element not found");playIntro=function(){if(!lecture)return void console.warn("Lecture not loaded yet!");stopIntro();const d=a.createBufferSource();d.buffer=lecture,d.connect(a.destination),d.start(),b=d,d.onended=()=>{if(!b)return;console.log("Lecture ended!"),stopIntro()}};stopIntro=function(){b&&(b.stop(),b.disconnect(),b=null,console.log("Lecture stopped"))} })();
